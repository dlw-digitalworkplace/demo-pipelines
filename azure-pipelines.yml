# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

pool:
  vmImage: ubuntu-latest

variables:
  buildConfiguration: 'Release'

stages:
  - stage: build_web_api
    displayName: Build web api
    jobs:
      - job: build_web_api
        displayName: Restoring packages for web api
        steps:
          - task: DotNetCoreCLI@2
            displayName: Restoring packages
            inputs:
             command: 'restore'
             projects: 'Pipelines.Server/**/*.csproj'
          - task: DotNetCoreCLI@2
            displayName: Building csproj
            inputs:
             command: 'build'
             projects: 'Pipelines.Server/**/*.csproj'
             arguments: '--configuration $(buildConfiguration)'